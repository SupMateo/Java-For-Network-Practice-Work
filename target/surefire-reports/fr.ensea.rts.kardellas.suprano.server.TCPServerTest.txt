-------------------------------------------------------------------------------
Test set: fr.ensea.rts.kardellas.suprano.server.TCPServerTest
-------------------------------------------------------------------------------
Tests run: 10, Failures: 3, Errors: 3, Skipped: 0, Time elapsed: 0.069 s <<< FAILURE! -- in fr.ensea.rts.kardellas.suprano.server.TCPServerTest
fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testHandleConnectionWhenServerSocketIsClosed -- Time elapsed: 0.003 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.net.Socket.getInetAddress()" because "clientSocket" is null
	at fr.ensea.rts.kardellas.suprano.server.TCPServer.handleConnection(TCPServer.java:37)
	at fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testHandleConnectionWhenServerSocketIsClosed(TCPServerTest.java:84)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testStop -- Time elapsed: 0.005 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
	at fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testStop(TCPServerTest.java:98)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testHandleConnection -- Time elapsed: 0.002 s <<< ERROR!
java.lang.NullPointerException: Cannot invoke "java.net.InetAddress.getHostAddress()" because the return value of "java.net.Socket.getInetAddress()" is null
	at fr.ensea.rts.kardellas.suprano.server.TCPServer.handleConnection(TCPServer.java:37)
	at fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testHandleConnection(TCPServerTest.java:70)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testMainLoop -- Time elapsed: 0.006 s <<< ERROR!
org.mockito.exceptions.misusing.UnfinishedStubbingException: 

Unfinished stubbing detected here:
-> at fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testMainLoop(TCPServerTest.java:151)

E.g. thenReturn() may be missing.
Examples of correct stubbing:
    when(mock.isOk()).thenReturn(true);
    when(mock.isOk()).thenThrow(exception);
    doThrow(exception).when(mock).someVoidMethod();
Hints:
 1. missing thenReturn()
 2. you are trying to stub a final method, which is not supported
 3. you are stubbing the behaviour of another mock inside before 'thenReturn' instruction is completed

	at fr.ensea.rts.kardellas.suprano.server.TCPServer.getServerSocket(TCPServer.java:82)
	at fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testMainLoop(TCPServerTest.java:152)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testStopWithException -- Time elapsed: 0.002 s <<< FAILURE!
org.opentest4j.AssertionFailedError: stop() should throw a RuntimeException ==> Expected java.lang.RuntimeException to be thrown, but nothing was thrown.
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:73)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:39)
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3153)
	at fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testStopWithException(TCPServerTest.java:179)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testDefaultConstructor -- Time elapsed: 0.002 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Default constructor should set port to 0 ==> expected: <0> but was: <8080>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)
	at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:150)
	at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:563)
	at fr.ensea.rts.kardellas.suprano.server.TCPServerTest.testDefaultConstructor(TCPServerTest.java:129)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

